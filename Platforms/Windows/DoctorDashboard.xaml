<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="E_Vita.Mobile.Views.DoctorDashboard"
             Title="Doctor Dashboard">

    <Grid BackgroundColor="#ecece4">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        
        <!-- Side Panel -->
        <StackLayout Grid.Column="0" BackgroundColor="#891739">
            <!-- Logo -->
            <Image Source="evita_logo.png" 
                   HeightRequest="160" 
                   Margin="0,15,0,20"/>

            <!-- Navigation Buttons -->
            <Button Text="View Patients Data"
                    Clicked="ViewPatientsData_Clicked"
                    FontFamily="Qatar2022"
                    FontSize="14"
                    BackgroundColor="#e1b184"
                    TextColor="#891739"
                    WidthRequest="166"
                    HeightRequest="46"
                    Margin="5,180,5,10"
                    CornerRadius="20"/>

            <Button Text="Laboratory"
                    Clicked="LabResults_Clicked"
                    FontFamily="Qatar2022"
                    FontSize="14"
                    BackgroundColor="#e1b184"
                    TextColor="#891739"
                    WidthRequest="166"
                    HeightRequest="46"
                    Margin="0,40,0,30"
                    CornerRadius="20"/>

            <Button Text="Finance"
                    Clicked="Finance_Clicked"
                    FontFamily="Qatar2022"
                    FontSize="14"
                    BackgroundColor="#e1b184"
                    TextColor="#891739"
                    WidthRequest="166"
                    HeightRequest="46"
                    Margin="0,30,0,30"
                    CornerRadius="20"/>

            <ImageButton Source="logout_icon.png"
                        Clicked="LogOut_Clicked"
                        HeightRequest="46"
                        WidthRequest="166"
                        Margin="5,70,5,10"
                        BackgroundColor="Transparent"/>
        </StackLayout>

        <!-- Main Content -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="100"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <StackLayout Grid.Row="0" 
                        BackgroundColor="#891739"
                        Padding="20,0">
                <Label Text="Doctor Dashboard"
                       TextColor="#e1b184"
                       FontSize="32"
                       FontFamily="Qatar2022"
                       FontAttributes="Bold"
                       VerticalOptions="Center"/>
            </StackLayout>

            <!-- Calendar and Appointments -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Calendar -->
                <Frame Grid.Column="0"
                       BackgroundColor="#f9dcc0"
                       Margin="10"
                       Padding="10"
                       CornerRadius="10">
                    <Grid x:Name="CalendarGrid">
                        <!-- Calendar will be populated in code-behind -->
                    </Grid>
                </Frame>

                <!-- Appointments -->
                <Frame Grid.Column="1"
                       BackgroundColor="#891739"
                       Margin="10"
                       Padding="10"
                       CornerRadius="10">
                    <CollectionView x:Name="AppointmentsList">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Frame BackgroundColor="#f9dcc0"
                                       Margin="5"
                                       Padding="10"
                                       CornerRadius="10">
                                    <StackLayout>
                                        <Label Text="{Binding Patient_appointment.name}"
                                               FontSize="16"
                                               TextColor="#34111e"/>
                                        <Label Text="{Binding Time}"
                                               FontSize="14"
                                               TextColor="#34111e"/>
                                        <Label Text="{Binding Patient_appointment.contact}"
                                               FontSize="14"
                                               TextColor="#34111e"/>
                                        <Label Text="{Binding Patient_appointment.Patient_ID}"
                                               FontSize="14"
                                               TextColor="#34111e"/>
                                    </StackLayout>
                                </Frame>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </Frame>
            </Grid>
        </Grid>
    </Grid>

</ContentPage> 